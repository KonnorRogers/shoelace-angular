{"ast":null,"code":"import _asyncToGenerator from \"/home/KonnorRogers/shoelace-angular/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { icon_styles_default } from \"./chunk.LMJPQPQT.js\";\nimport { getIconLibrary, unwatchIcon, watchIcon } from \"./chunk.3WAW4E2K.js\";\nimport { watch } from \"./chunk.Q6ASPMKT.js\";\nimport { ShoelaceElement } from \"./chunk.V6PFW22Q.js\";\nimport { __decorateClass } from \"./chunk.MAD5PUM2.js\";\n\n// src/components/icon/icon.component.ts\nimport { html } from \"lit\";\nimport { isTemplateResult } from \"lit/directive-helpers.js\";\nimport { property, state } from \"lit/decorators.js\";\nvar CACHEABLE_ERROR = Symbol();\nvar RETRYABLE_ERROR = Symbol();\nvar parser;\nvar iconCache = /* @__PURE__ */new Map();\nvar SlIcon = class extends ShoelaceElement {\n  constructor() {\n    super(...arguments);\n    this.initialRender = false;\n    this.svg = null;\n    this.label = \"\";\n    this.library = \"default\";\n  }\n  /** Given a URL, this function returns the resulting SVG element or an appropriate error symbol. */\n  resolveIcon(url, library) {\n    return _asyncToGenerator(function* () {\n      var _a;\n      let fileData;\n      if (library == null ? void 0 : library.spriteSheet) {\n        return html`<svg part=\"svg\">\n        <use part=\"use\" href=\"${url}\"></use>\n      </svg>`;\n      }\n      try {\n        fileData = yield fetch(url, {\n          mode: \"cors\"\n        });\n        if (!fileData.ok) return fileData.status === 410 ? CACHEABLE_ERROR : RETRYABLE_ERROR;\n      } catch (e) {\n        return RETRYABLE_ERROR;\n      }\n      try {\n        const div = document.createElement(\"div\");\n        div.innerHTML = yield fileData.text();\n        const svg = div.firstElementChild;\n        if (((_a = svg == null ? void 0 : svg.tagName) == null ? void 0 : _a.toLowerCase()) !== \"svg\") return CACHEABLE_ERROR;\n        if (!parser) parser = new DOMParser();\n        const doc = parser.parseFromString(svg.outerHTML, \"text/html\");\n        const svgEl = doc.body.querySelector(\"svg\");\n        if (!svgEl) return CACHEABLE_ERROR;\n        svgEl.part.add(\"svg\");\n        return document.adoptNode(svgEl);\n      } catch (e) {\n        return CACHEABLE_ERROR;\n      }\n    })();\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    watchIcon(this);\n  }\n  firstUpdated() {\n    this.initialRender = true;\n    this.setIcon();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    unwatchIcon(this);\n  }\n  getIconSource() {\n    const library = getIconLibrary(this.library);\n    if (this.name && library) {\n      return {\n        url: library.resolver(this.name),\n        fromLibrary: true\n      };\n    }\n    return {\n      url: this.src,\n      fromLibrary: false\n    };\n  }\n  handleLabelChange() {\n    const hasLabel = typeof this.label === \"string\" && this.label.length > 0;\n    if (hasLabel) {\n      this.setAttribute(\"role\", \"img\");\n      this.setAttribute(\"aria-label\", this.label);\n      this.removeAttribute(\"aria-hidden\");\n    } else {\n      this.removeAttribute(\"role\");\n      this.removeAttribute(\"aria-label\");\n      this.setAttribute(\"aria-hidden\", \"true\");\n    }\n  }\n  setIcon() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      var _a;\n      const {\n        url,\n        fromLibrary\n      } = _this.getIconSource();\n      const library = fromLibrary ? getIconLibrary(_this.library) : void 0;\n      if (!url) {\n        _this.svg = null;\n        return;\n      }\n      let iconResolver = iconCache.get(url);\n      if (!iconResolver) {\n        iconResolver = _this.resolveIcon(url, library);\n        iconCache.set(url, iconResolver);\n      }\n      if (!_this.initialRender) {\n        return;\n      }\n      const svg = yield iconResolver;\n      if (svg === RETRYABLE_ERROR) {\n        iconCache.delete(url);\n      }\n      if (url !== _this.getIconSource().url) {\n        return;\n      }\n      if (isTemplateResult(svg)) {\n        _this.svg = svg;\n        return;\n      }\n      switch (svg) {\n        case RETRYABLE_ERROR:\n        case CACHEABLE_ERROR:\n          _this.svg = null;\n          _this.emit(\"sl-error\");\n          break;\n        default:\n          _this.svg = svg.cloneNode(true);\n          (_a = library == null ? void 0 : library.mutator) == null ? void 0 : _a.call(library, _this.svg);\n          _this.emit(\"sl-load\");\n      }\n    })();\n  }\n  render() {\n    return this.svg;\n  }\n};\nSlIcon.styles = icon_styles_default;\n__decorateClass([state()], SlIcon.prototype, \"svg\", 2);\n__decorateClass([property({\n  reflect: true\n})], SlIcon.prototype, \"name\", 2);\n__decorateClass([property()], SlIcon.prototype, \"src\", 2);\n__decorateClass([property()], SlIcon.prototype, \"label\", 2);\n__decorateClass([property({\n  reflect: true\n})], SlIcon.prototype, \"library\", 2);\n__decorateClass([watch(\"label\")], SlIcon.prototype, \"handleLabelChange\", 1);\n__decorateClass([watch([\"name\", \"src\", \"library\"])], SlIcon.prototype, \"setIcon\", 1);\nexport { SlIcon };","map":{"version":3,"names":["icon_styles_default","getIconLibrary","unwatchIcon","watchIcon","watch","ShoelaceElement","__decorateClass","html","isTemplateResult","property","state","CACHEABLE_ERROR","Symbol","RETRYABLE_ERROR","parser","iconCache","Map","SlIcon","constructor","arguments","initialRender","svg","label","library","resolveIcon","url","_asyncToGenerator","_a","fileData","spriteSheet","fetch","mode","ok","status","e","div","document","createElement","innerHTML","text","firstElementChild","tagName","toLowerCase","DOMParser","doc","parseFromString","outerHTML","svgEl","body","querySelector","part","add","adoptNode","connectedCallback","firstUpdated","setIcon","disconnectedCallback","getIconSource","name","resolver","fromLibrary","src","handleLabelChange","hasLabel","length","setAttribute","removeAttribute","_this","iconResolver","get","set","delete","emit","cloneNode","mutator","call","render","styles","prototype","reflect"],"sources":["/home/KonnorRogers/shoelace-angular/node_modules/@shoelace-style/shoelace/dist/chunks/chunk.B7TJZ4WE.js"],"sourcesContent":["import {\n  icon_styles_default\n} from \"./chunk.LMJPQPQT.js\";\nimport {\n  getIconLibrary,\n  unwatchIcon,\n  watchIcon\n} from \"./chunk.3WAW4E2K.js\";\nimport {\n  watch\n} from \"./chunk.Q6ASPMKT.js\";\nimport {\n  ShoelaceElement\n} from \"./chunk.V6PFW22Q.js\";\nimport {\n  __decorateClass\n} from \"./chunk.MAD5PUM2.js\";\n\n// src/components/icon/icon.component.ts\nimport { html } from \"lit\";\nimport { isTemplateResult } from \"lit/directive-helpers.js\";\nimport { property, state } from \"lit/decorators.js\";\nvar CACHEABLE_ERROR = Symbol();\nvar RETRYABLE_ERROR = Symbol();\nvar parser;\nvar iconCache = /* @__PURE__ */ new Map();\nvar SlIcon = class extends ShoelaceElement {\n  constructor() {\n    super(...arguments);\n    this.initialRender = false;\n    this.svg = null;\n    this.label = \"\";\n    this.library = \"default\";\n  }\n  /** Given a URL, this function returns the resulting SVG element or an appropriate error symbol. */\n  async resolveIcon(url, library) {\n    var _a;\n    let fileData;\n    if (library == null ? void 0 : library.spriteSheet) {\n      return html`<svg part=\"svg\">\n        <use part=\"use\" href=\"${url}\"></use>\n      </svg>`;\n    }\n    try {\n      fileData = await fetch(url, { mode: \"cors\" });\n      if (!fileData.ok)\n        return fileData.status === 410 ? CACHEABLE_ERROR : RETRYABLE_ERROR;\n    } catch (e) {\n      return RETRYABLE_ERROR;\n    }\n    try {\n      const div = document.createElement(\"div\");\n      div.innerHTML = await fileData.text();\n      const svg = div.firstElementChild;\n      if (((_a = svg == null ? void 0 : svg.tagName) == null ? void 0 : _a.toLowerCase()) !== \"svg\")\n        return CACHEABLE_ERROR;\n      if (!parser)\n        parser = new DOMParser();\n      const doc = parser.parseFromString(svg.outerHTML, \"text/html\");\n      const svgEl = doc.body.querySelector(\"svg\");\n      if (!svgEl)\n        return CACHEABLE_ERROR;\n      svgEl.part.add(\"svg\");\n      return document.adoptNode(svgEl);\n    } catch (e) {\n      return CACHEABLE_ERROR;\n    }\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    watchIcon(this);\n  }\n  firstUpdated() {\n    this.initialRender = true;\n    this.setIcon();\n  }\n  disconnectedCallback() {\n    super.disconnectedCallback();\n    unwatchIcon(this);\n  }\n  getIconSource() {\n    const library = getIconLibrary(this.library);\n    if (this.name && library) {\n      return {\n        url: library.resolver(this.name),\n        fromLibrary: true\n      };\n    }\n    return {\n      url: this.src,\n      fromLibrary: false\n    };\n  }\n  handleLabelChange() {\n    const hasLabel = typeof this.label === \"string\" && this.label.length > 0;\n    if (hasLabel) {\n      this.setAttribute(\"role\", \"img\");\n      this.setAttribute(\"aria-label\", this.label);\n      this.removeAttribute(\"aria-hidden\");\n    } else {\n      this.removeAttribute(\"role\");\n      this.removeAttribute(\"aria-label\");\n      this.setAttribute(\"aria-hidden\", \"true\");\n    }\n  }\n  async setIcon() {\n    var _a;\n    const { url, fromLibrary } = this.getIconSource();\n    const library = fromLibrary ? getIconLibrary(this.library) : void 0;\n    if (!url) {\n      this.svg = null;\n      return;\n    }\n    let iconResolver = iconCache.get(url);\n    if (!iconResolver) {\n      iconResolver = this.resolveIcon(url, library);\n      iconCache.set(url, iconResolver);\n    }\n    if (!this.initialRender) {\n      return;\n    }\n    const svg = await iconResolver;\n    if (svg === RETRYABLE_ERROR) {\n      iconCache.delete(url);\n    }\n    if (url !== this.getIconSource().url) {\n      return;\n    }\n    if (isTemplateResult(svg)) {\n      this.svg = svg;\n      return;\n    }\n    switch (svg) {\n      case RETRYABLE_ERROR:\n      case CACHEABLE_ERROR:\n        this.svg = null;\n        this.emit(\"sl-error\");\n        break;\n      default:\n        this.svg = svg.cloneNode(true);\n        (_a = library == null ? void 0 : library.mutator) == null ? void 0 : _a.call(library, this.svg);\n        this.emit(\"sl-load\");\n    }\n  }\n  render() {\n    return this.svg;\n  }\n};\nSlIcon.styles = icon_styles_default;\n__decorateClass([\n  state()\n], SlIcon.prototype, \"svg\", 2);\n__decorateClass([\n  property({ reflect: true })\n], SlIcon.prototype, \"name\", 2);\n__decorateClass([\n  property()\n], SlIcon.prototype, \"src\", 2);\n__decorateClass([\n  property()\n], SlIcon.prototype, \"label\", 2);\n__decorateClass([\n  property({ reflect: true })\n], SlIcon.prototype, \"library\", 2);\n__decorateClass([\n  watch(\"label\")\n], SlIcon.prototype, \"handleLabelChange\", 1);\n__decorateClass([\n  watch([\"name\", \"src\", \"library\"])\n], SlIcon.prototype, \"setIcon\", 1);\n\nexport {\n  SlIcon\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}